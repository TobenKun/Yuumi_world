---
{"dg-publish":true,"permalink":"/CODING/C언어/어떤 방식으로 작동을 해야하는가/","noteIcon":"2"}
---


	제로부터 시작하는 코딩..

```
char *get_next_line(int fd)
{
	구조체 배열 milestone, 버퍼, 출력할 한줄, read의 반환값 저장할 함수 선언

	fd가 유효한 값으로 전달되었는지 확인
	출력할 한 줄을 널포인터로 초기화
	read의 반환값은 1로 초기화
		-> 처음 호출때만 실행되고 그 뒤로는 실행 안되게 해야됨
	
	while(read가 한 글자도 읽어오지 못할 때 까지 반복)
		변수에다 read가 몇글자 읽어왔는지 저장 (음수면 리턴해야됨)
		fd에 해당하는 구조체 포인터에 fill_back함수를 이용해 연결리스트의 주소 할당
		-> 이걸 파일 끝까지 반복
		-> 이 반복문이 끝나면 연결리스트의 콘텐츠에 파일 끝까지 들어가게됨
	
	while(리스트 끝까지 순회하면서)
		oneline으로 선언한 포인터에 조인 함수를 이용해 컨텐츠 내용을 기존 문자열 뒤에 넣어줌
		만약 해당 노드에 개행이 들어가있으면 반복문을 탈출함
	
	문자열이 합쳐진 oneline을 리턴
}

t_list *fill_back(t_list *lst, char *s)
{
	// 연결리스트를 이용해 노드의 컨텐츠에 버퍼사이즈 or 개행까지 문자를 잘라서 넣음
	우선 문자열의 첫글자가 널이면 새로운 노드를 만들어서 리턴한다.
	
	이후 check_null함수를 호출하는데 해당 함수에서 널 체크를 하고, 마지막 노드를 찾아서
	마지막노드 뒤에 last_node를 연결해준다.
	
}
```

	milestone이 널인지 아닌지 체크를 해서 널일때만 read를 할 수 있도록 해야됨
	-> 버퍼 크기에 상관없이 반복문을 돌면서 파일 끝까지 무조건 읽어오기 떄문